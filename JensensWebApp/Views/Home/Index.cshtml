@model IList<JensensWebApp.Models.Article>

@{
    ViewBag.Title = "Articles";

    Dictionary<string, string> topicDisplayNames = new Dictionary<string, string>
{
    {"Halsa", "Hälsa"},
    {"SamhalleKonflikter", "Samhälle/Konflikter"},
    {"Miljo", "Miljö"},
    {"VetenskapTeknik", "Vetenskap/Teknik"},
    {"LivsstillFritt", "Livsstil/Fritid"},
    {"Ekonomi", "Ekonomi"},
    {"Religion", "Religion"},
    {"Idrott", "Idrott"}
};

}
    
<img src="../Articles.png" alt="Article img" class="article-pic">

<div class="container">
	<div class="form-container">
		@using (Html.BeginForm("Index", "Home", FormMethod.Get))
		{
			<div id="select-topic-container">
				<select id="topic" name="topic" class="form-select">
					<option value="">Select a topic:</option>
					@foreach (var topic in topicDisplayNames)
					{
						<option value="@topic.Key">@topic.Value</option>
					}
				</select>
			</div>

			<div id="select-sort-container">
				<select id="sortBy" name="sortBy" class="form-select">
					<option value="">Sort by:</option>
					<option value="newest">Newest to Oldest</option>
					<option value="oldest">Oldest to Newest</option>
				</select>
			</div>

			<button type="submit" class="btn btn-primary">Filter</button>
		}
	</div>

    <div id="summary-modal" class="modal">
        <div class="modal-content">
            <span class="closeBtn">&times;</span>
            <h3>Summary...</h3>
            <p>"Star Trek is an American science fiction entertainment franchise based on the television series created by Gene Roddenberry.\n  The first television series, simply called Star Trek and now referred to as The Original Series, debuted in 1966 and aired for three seasons on the television network NBC.\n  ..."</p>
        </div>
    </div>

    <div class="cards-container">
        @foreach (var article in Model)
        {
            <div class="card-container">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">@article.Title</h5>
                        <p class="card-text">@article.Summary</p>
                        <button id="summarize">Summarize with AI</button>
                        <a href="@article.Link" class="card-link" target="_blank">Read More</a>
                        <p class="card-text-muted"><small class="text-muted">@article.Published.ToString("yyyy-MM-dd HH:mm:ss")</small></p>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
